<div class="container">
    <div class="card-header">
        Sign Up!
    </div>
    <div class="card-body">
        <form novalidate (ngSubmit)="save()" [formGroup]="customerForm">
            <div class="form-group row mb-2">
                <label for="firstNameId" class="col-md-2 col-form-label">First Name</label>
                <div class="col-md-8">
                    <input type="text" id="firstNameId" placeholder="First Name (required)" formControlName="firstName"
                        [ngClass]="{
                            'is-invalid':
                              (customerForm.get('firstName')?.touched ||
                                customerForm.get('firstName')?.dirty) &&
                              !customerForm.get('firstName')?.valid
                          }"
                        class="form-control" />
                    <span class="invalid-feedback">
                        <span *ngIf="customerForm.get('firstName')?.errors?.required">Please enter your first
                            name.</span>
                        <span *ngIf="customerForm.get('firstName')?.errors?.minlength">The first name must be longer
                            than
                            3 characters.</span>
                    </span>
                </div>
            </div>

            <div class="form-group row mb-2">
                <label for="lastNameId" class="col-md-2 col-form-label">Last Name</label>
                <div class="col-md-8">
                    <input type="text" id="lastNameId" placeholder="Last Name (required)" formControlName="lastName"
                        [ngClass]="{'is-invalid': (customerForm.get('lastName')?.touched || customerForm.get('lastName')?.dirty) && !customerForm.get('lastName')?.valid}"
                        class="form-control" />
                    <span class="invalid-feedback">
                        <span *ngIf="customerForm.get('lastName')?.errors?.required">Please enter your last
                            name.</span>
                        <span *ngIf="customerForm.get('lastName')?.errors?.minlength">The last name must be less than 50
                            characters.</span>
                    </span>
                </div>
            </div>

            <div formGroupName="emailGroup" [ngClass]="{'is-invalid': customerForm.get('emailGroup')?.errors}">
                <div class="form-group row mb-2">
                    <label for="emailId" class="col-md-2 col-form-label">Email</label>
                    <div class="col-md-8">
                        <input type="email" id="emailId" placeholder="Email (required)" formControlName="email"
                            [ngClass]="{'is-invalid': (customerForm.get('emailGroup.email')?.touched || customerForm.get('emailGroup.email')?.dirty) && !customerForm.get('emailGroup.email')?.valid}"
                            class="form-control" />
                        <span class="invalid-feedback">
                            <span *ngIf="customerForm.get('emailGroup.email')?.errors?.required">Please enter your email
                                address.</span>
                            <span *ngIf="customerForm.get('emailGroup.email')?.errors?.email">Please enter a valid email
                                address.</span>

                        </span>
                    </div>
                </div>

                <div class="form-group row mb-2">
                    <label for="confirmEmailId" class="col-md-2 col-form-label">Confirm Email</label>
                    <div class="col-md-8">
                        <input type="email" id="confirmEmailId" placeholder="Confirm Email (required)"
                            formControlName="confirmEmail"
                            [ngClass]="{'is-invalid': (customerForm.get('emailGroup.confirmEmail')?.touched || customerForm.get('emailGroup.confirmEmail')?.dirty) && !customerForm.get('emailGroup.confirmEmail')?.valid || customerForm.get('emailGroup')?.errors}"
                            class="form-control" />
                        <span class="invalid-feedback">
                            <span *ngIf="customerForm.get('emailGroup.confirmEmail')?.errors?.required">Please enter
                                your
                                confirm email address.</span>
                            <span *ngIf="customerForm.get('emailGroup.confirmEmail')?.errors?.email">Please enter a
                                valid
                                confirm email address.</span>
                            <span *ngIf="customerForm.get('emailGroup')?.errors">The confirmation does not match the
                                email address.</span>

                        </span>
                    </div>
                </div>
            </div>

            <div class="form-group row mb-2">
                <label for="phoneId" class="col-md-2 col-form-label">Phone</label>
                <div class="col-md-8">
                    <input type="tel" id="phoneId" placeholder="Phone" formControlName="phone"
                        [ngClass]="{'is-invalid':(customerForm.get('phone')?.touched || customerForm.get('phone')?.dirty) && !customerForm.get('phone')?.valid}"
                        class="form-control" />
                    <span class="invalid-feedback">
                        <span *ngIf="customerForm.get('phone')?.errors?.required">Please enter your phone
                            number.</span>
                    </span>
                </div>
            </div>
            <div class="form-group row mb-2">
                <label class="col-md-2 col-form-label">Send Notifications</label>
                <div class="col-md-8">
                    <label class="radio-inline">
                        <input type="radio" value="email" formControlName="notification"
                            (click)="setNotification('email')" />Email
                    </label>

                    <label class="radio-inline" style="margin-left: 10px;">
                        <input type="radio" value="text" formControlName="notification"
                            (click)="setNotification('text')" />Text
                    </label>
                </div>
            </div>

            <div class="from-group row mb-2">
                <div class="col-md-8">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input type="checkbox" id="sendCatalogId" formControlName="sendCatalog"
                                class="form-check-input"> Send me your catalog

                        </label>
                    </div>
                </div>
            </div>

            <div class="form-group row mb-2">
                <label for="ratingId" class="col-md-2 col-form-label">Rating</label>
                <div class="col-md-8">
                    <input type="number" id="ratingId" placeholder="Rating" formControlName="rating"
                        class="form-control"
                        [ngClass]="{'is-invalid':(customerForm.get('rating')?.touched || customerForm.get('rating')?.dirty) && !customerForm.get('rating')?.valid}" />
                    <span class="invalid-feedback">
                        <span *ngIf="customerForm.get('rating')?.errors?.range">Please enter rating from 1 to 5.</span>
                    </span>
                </div>
            </div>

            <div class="form-group row mb-2">
                <div class="offset-md-2 col-md-4">
                    <button class="btn btn-primary mr-3" type="submit" style="width: 80px;"
                        [title]="customerForm?.valid ? 'Save your entered data' : 'Disabled until the form data is valid'"
                        [disabled]="!customerForm.valid">Save</button>
                </div>
            </div>
        </form>
    </div>
</div>
<br>first name: {{customerForm.get('firstName')?.valid}}
<br> Dirty: {{customerForm?.dirty}}
<br> Touched: {{customerForm?.touched}}
<br> Valid: {{customerForm?.valid}}
<br> Value: {{customerForm?.value | json}}